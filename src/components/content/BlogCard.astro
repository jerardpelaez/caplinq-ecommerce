---
import Badge from '../ui/Badge.astro';

interface Props {
  title: string;
  slug: string;
  author: string;
  publishDate: Date;
  category: string;
  excerpt: string;
  featuredImage?: string;
}

const { title, slug, author, publishDate, category, excerpt, featuredImage } = Astro.props;

const formattedDate = publishDate.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<article class="group bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg hover:border-primary-300 transition-all duration-200">
  {featuredImage && (
    <a href={`/blog/${slug}`} class="block overflow-hidden">
      <img
        src={featuredImage}
        alt={title}
        class="w-full aspect-video object-cover group-hover:scale-105 transition-transform duration-300"
        loading="lazy"
      />
    </a>
  )}

  <div class="p-6">
    <div class="flex items-center gap-3 mb-3">
      <Badge variant="primary" size="sm">{category}</Badge>
      <time datetime={publishDate.toISOString()} class="text-xs text-gray-500">
        {formattedDate}
      </time>
    </div>

    <h3 class="text-lg font-semibold text-navy-900 group-hover:text-primary-600 transition-colors leading-snug">
      <a href={`/blog/${slug}`}>{title}</a>
    </h3>

    <p class="text-sm text-gray-600 mt-2 line-clamp-3">{excerpt}</p>

    <div class="mt-4 pt-4 border-t border-gray-100 flex items-center justify-between">
      <span class="text-sm text-gray-500">By {author}</span>
      <a
        href={`/blog/${slug}`}
        class="text-sm font-medium text-primary-600 hover:text-primary-700 inline-flex items-center gap-1"
      >
        Read More
        <svg class="h-4 w-4 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
        </svg>
      </a>
    </div>
  </div>
</article>
